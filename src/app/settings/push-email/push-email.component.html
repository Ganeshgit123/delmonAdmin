<div class="row">
    <div class="col-md-12">
        <h2 class="mb-3 mb-md-0">{{"Push Emails" | translate}}</h2>
        <br>
        <div class="card">
            <div class="card-body">
                <form [formGroup]="emailForm">
                    <div class="form-group">
                        <label for="name">{{"Subject" | translate}}</label>
                        <input type="text" class="form-control" placeholder="{{'EnterSubject' | translate}}"
                            formControlName="subject"
                            [ngClass]="{ 'is-invalid': submittedEmail && fEmail.subject.errors }">
                        <div *ngIf="submittedEmail && fEmail.subject.errors" class="invalid-feedback">
                            <div *ngIf="fEmail.subject.errors.required">{{"SubjectRequire" | translate}}</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="name">{{"EmailBody" | translate}}:</label>
                        <textarea class="form-control" formControlName="body" rows="4" cols="50"
                            placeholder="{{'EnterBody' | translate}}"
                            [ngClass]="{ 'is-invalid': submittedEmail && fEmail.body.errors }"></textarea>
                        <div *ngIf="submittedEmail && fEmail.body.errors" class="invalid-feedback">
                            <div *ngIf="fEmail.body.errors.required">{{"BodyRequired" | translate}}</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="recipientType">{{"RecipientType" | translate}}</label>
                        <select class="form-control" formControlName="recipientType"
                            [ngClass]="{ 'is-invalid': submittedEmail && fEmail.recipientType.errors }">
                            <option value="group">{{'UserGroup' | translate}}</option>
                            <option value="single">{{'SingleUsers' | translate}}</option>
                        </select>
                        <div *ngIf="submittedEmail && fEmail.recipientType.errors" class="invalid-feedback">
                            <div *ngIf="fEmail.recipientType.errors.required">{{"RecipientTypeRequired" | translate}}
                            </div>
                        </div>
                    </div>

                    <!-- show group dropdown when 'group' selected -->
                    <div class="form-group" *ngIf="emailForm.get('recipientType')?.value === 'group'">
                        <label for="group">{{"UserGroup" | translate}}</label>
                        <select class="form-control" formControlName="groupId">
                            <option *ngFor="let g of userGroups" [value]="g.id">{{ g.name }}</option>
                        </select>
                    </div>

                    <!-- show single-user multiselect when 'single' selected -->
                    <div class="form-group" *ngIf="emailForm.get('recipientType')?.value === 'single'">
                        <label for="name">{{"Users" | translate}} </label>
                        <ng-multiselect-dropdown placeholder="{{'Select Users' | translate}}"
                            [formControl]="emailForm.controls['userId']" [settings]="dropdownSettingsuser"
                            [data]="getuser" (onSelect)="onItemSelectuser($event)"
                            (onSelectAll)="onSelectAlluser($event)" (onDeSelect)="onItemDeSelect($event)"
                            (onDeSelectAll)="onDeSelectAll($event)">
                        </ng-multiselect-dropdown>
                    </div>

                    <div class="text-right" *ngIf="showAccept">
                        <button type="submit" class="btn btn-own" (click)="sendEmailNotification()">{{"Send"
                            | translate}}</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>